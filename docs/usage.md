# Usage

This section describes how to use the lawcite command-line tools. Ensure you have activated the Poetry virtual environment with `poetry shell` before running commands.

## PDF to BibTeX

Convert a PDF from a URL to BibTeX format:
```bash
lawcite pdf2bib https://www.retsinformation.dk/api/pdf/244970
```

Specify a custom output filename for the BibTeX file:
```bash
lawcite pdf2bib --name konkurrenceloven.bib https://www.retsinformation.dk/api/pdf/244970
```

Use debug mode to save the fetched PDF for inspection:
```bash
lawcite pdf2bib --debug https://www.retsinformation.dk/api/pdf/244970
```

The link used is on the retsinformation.dk website in the top right corner (right-click and copy link address). 
![pdflink](assets/pdflink.png)

The `pdf2bib` command expects PDFs with metadata (title, date, ministry) on the first page and paragraphs marked by `ยง`. It supports dynamic API URLs (e.g., `retsinformation.dk/api/pdf/`). BibTeX entries use the PDF's title as the `journal`, the ministry as the `author`, and clean keys (e.g., `konkurrencelovenp9stk2`). Use `--name` to specify the output BibTeX filename, or it defaults to a cleaned version of the document title (e.g., `konkurrenceloven.bib`). Use `--debug` to save the PDF for troubleshooting.

### Batch Processing

To process multiple laws listed in `examples/laws.yml` and save them as BibTeX files in the `examples` directory, run:
```bash
python examples/process_laws.py
```

This script reads the `laws.yml` file and generates `.bib` files (e.g., `examples/konkurrenceloven.bib`) for each law.

### Using BibTeX in LaTeX

After generating a BibTeX file (e.g., `konkurrenceloven.bib`) with `lawcite pdf2bib --name konkurrenceloven.bib https://www.retsinformation.dk/api/pdf/244970`, you can use it in a LaTeX document to cite sections of the Danish Competition Act (konkurrenceloven). Below is an example LaTeX document:

```latex
\documentclass{article}
\usepackage{hyperref}
\usepackage[backend=biber]{biblatex}
\addbibresource{konkurrenceloven.bib}

\begin{document}
\noindent Here is a citation to the konkurrenceloven \parencite{konkurrencelovenp9stk2}.

\printbibliography

\end{document}
```
This will produce a document with a citation to ยง9, Stk. 2 of the konkurrenceloven, with the bibliography formatted according to the BibTeX entry generated by `lawcite`.

### Konkurrenceloven and Forldreansvarsloven
<div style="max-height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;" markdown="1">
```bib
--8<-- "docs/assets/konkurrenceloven.bib"
```
</div>

<div style="max-height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;" markdown="1">
```bib
--8<-- "docs/assets/forldreansvarsloven.bib"
```
</div>

## LaTeX to HTML

This functionality has been deprecated.
